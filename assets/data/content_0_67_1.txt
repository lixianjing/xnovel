却说曹操兴师西征，分兵三队：前部先锋夏侯渊；张郃；操自领诸将居中；后部曹仁、夏侯惇，押运粮草。早有细作报入汉中来。张鲁与弟张卫，商议退敌之策。卫曰：“汉中最险无如阳平关；可于关之左右，依山傍林，下十余个寨栅，迎敌曹兵。兄在汉宁，多拨粮草应付。”张鲁依言，遣大将杨昂、杨任，与其弟即日起程。军马到阳平关，下寨已定。夏侯渊、张郃前军随到，闻阳平关已有准备，离关一十五里下寨。是夜，军士疲困，各自歇息。忽寨后一把火起，杨昂、杨任两路兵杀来劫寨。夏侯渊、张郃急上得马，四下里大兵拥入，曹兵大败，退见曹操。操怒曰：“汝二人行军许多年，岂不知兵若远行疲困，可防劫寨？如何不作准备？”欲斩二人，以明军法。众官告免。操次日自引兵为前队，见山势险恶，林木丛杂，不知路径，恐有伏兵，即引军回寨，谓许褚、徐晃二将曰：“吾若知此处如此险恶，必不起兵来。”许褚曰：“兵已至此，主公不可惮劳。”次日，操上马，只带许褚、徐晃二人，来看张卫寨栅。三匹马转过山坡，早望见张卫寨栅。操扬鞭遥指，谓二将曰：“如此坚固，急切难下！”言未已，背后一声喊起，箭如雨发。杨昂、杨任分两路杀来。操大惊。许褚大呼曰：“吾当敌贼！徐公明善保主公。”说罢，提刀纵马向前，力敌二将。杨昂、杨任不能当许褚之勇，回马退去，其余不敢向前。徐晃保着曹操奔过山坡，前面又一军到；看时，却是夏侯渊；张郃二将，听得喊声，故引军杀来接应。于是杀退杨昂、杨任，救得曹操回寨。操重赏四将。<br/><br/>自此两边相拒五十余日，只不交战。曹操传令退军。贾诩曰：“贼势未见强弱，主公何故自退耶？”操曰：“吾料贼兵每日提备，急难取胜。吾以退军为名，使贼懈而无备，然后分轻骑抄袭其后，必胜贼矣。”贾诩曰：“丞相神机，不可测也。”于是令夏侯渊；张郃分兵两路，各引轻骑三千，取小路抄阳平关后。曹操一面引大军拔寨尽起。杨昂听得曹兵退，请杨任商议，欲乘势击之。杨任曰：“操诡计极多，未知真实，不可追赶。”杨昂曰：“公不往，吾当自去。”杨任苦谏不从。杨昂尽提五寨军马前进，只留些少军士守寨。<br/><br/>是日，大雾迷漫，对面不相见。杨昂军至半路，不能行，权且扎住。却说夏侯渊一军抄过山后，见重雾垂空，又闻人语马嘶，恐有伏兵，急催人马行动，大雾中误走到杨昂寨前。守寨军士，听得马蹄响，只道是杨昂兵回，开门纳之。曹军一拥而入，见是空寨，便就寨中放起火来。五寨军士，尽皆弃寨而走。比及雾散，杨任领兵来救，与夏侯渊战不数合，背后张郃兵到。杨任杀条大路，奔回南郑。杨昂待要回时，已被夏侯渊、张郃两个占了寨栅。背后曹操大队军马赶来。两下夹攻，四边无路。杨昂欲突阵而出，正撞着张郃。两个交手，被张郃杀死。败兵回投阳平关，来见张卫。原来卫知二将败走，诸营已失，半夜弃关，奔回去了。曹操遂得阳平关并诸寨。张卫、杨任回见张鲁。卫言二将失了隘口，因此守关不住。张鲁大怒，欲斩杨任。任曰：“某曾谏杨昂，休追操兵。他不肯听信，故有此败。任再乞一军前去挑战，必斩曹操。如不胜，甘当军令。”张鲁取了军令状。杨任上马，引二万军离南郑下寨。却说曹操提军将进，先令夏侯渊领五千军，往南郑路上哨探，正迎着杨任军马，两军摆开。任遣部将昌奇出马，与渊交锋；战不三合，被渊一刀斩于马下。杨任自挺枪出马，与渊战三十余合，不分胜负。渊佯败而走，任从后追来；被渊用拖刀计，斩于马下。军士大败而回。曹操知夏侯渊斩了杨任，即时进兵，直抵南郑下寨。张鲁慌聚文武商议。阎圃曰：“某保一人，可敌曹操手下诸将。”鲁问是谁。圃曰：“南安庞德，前随马超投主公；后马超往西川，庞德卧病不曾行。现今蒙主公恩养，何不令此人去？”<br/><br/>