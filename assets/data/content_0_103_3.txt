却说孔明令高翔佯作运粮，驱驾木牛流马，往来于上方谷内；夏侯惠等，不时截杀，半月之间，连胜数阵。司马懿见蜀兵屡败，心中欢喜。一日，又擒到蜀兵数十人。懿唤至帐下问曰：“孔明今在何处？”众告曰：“诸葛丞相不在祁山，在上方谷西十里下营安住。今每日运粮屯于上方谷。”懿备细问了，即将众人放去；乃唤诸将分付曰：“孔明今不在祁山，在上方谷安营。汝等于明日，可一齐并力攻取祁山大寨。吾自引兵来接应。”众将领命，各各准备出战。司马师曰：“父亲何故反欲攻其后？”懿曰：“祁山乃蜀人之根本，若见我兵攻之，各营必尽来救；我却取上方谷烧其粮草，使彼首尾不接：必大败也。”司马师拜服。懿即发兵起行，令张虎、乐綝各引五千兵，在后救应。且说孔明正在山上，望见魏兵或三五千一行，或一二千一行，队伍纷纷，前后顾盼，料必来取祁山大寨，乃密传令众将：“若司马懿自来，汝等便往劫魏寨，夺了渭南。”众将各各听令。却说魏兵皆奔祁山寨来，蜀兵四下一齐呐喊奔走，虚作救应之势。司马懿见蜀兵都去救祁山寨，便引二子并中军护卫人马，杀奔上方谷来。魏延在谷口，只盼司马懿到来；忽见一枝魏兵杀到，延纵马向前视之，正是司马懿。延大喝曰：“司马懿休走！”舞刀相迎。懿挺枪接战。不上三合，延拨回马便走，懿随后赶来。延只望七星旗处而走。懿见魏延只一人，军马又少，放心追之；令司马师在左，司马昭在右，懿自居中，一齐攻杀将来。魏延引五百兵皆退入谷中去。懿追到谷口，先令人入谷中哨探。回报谷内并无伏兵，山上皆是草房。懿曰：“此必是积粮之所也。”遂大驱士马，尽入谷中。懿忽见草房上尽是干柴，前面魏延已不见了。懿心疑，谓二子曰：“倘有兵截断谷口，如之奈何？”言未已，只听得喊声大震，山上一齐丢下火把来，烧断谷口。魏兵奔逃无路。山上火箭射下，地雷一齐突出，草房内干柴都着，刮刮杂杂，火势冲天。司马懿惊得手足无措，乃下马抱二子大哭曰：“我父子三人皆死于此处矣！”正哭之间，忽然狂风大作，黑气漫空，一声霹雳响处，骤雨倾盆。满谷之火，尽皆浇灭：地雷不震，火器无功。司马懿大喜曰：“不就此时杀出，更待何时！”即引兵奋力冲杀。张虎、乐綝亦各引兵杀来接应。马岱军少，不敢追赶。司马懿父子与张虎、乐綝合兵一处，同归渭南大寨，不想寨栅已被蜀兵夺了。郭淮、孙礼正在浮桥上与蜀兵接战。司马懿等引兵杀到，蜀兵退去。懿烧断浮桥，据住北岸。<br/><br/>且说魏兵在祁山攻打蜀寨，听知司马懿大败，失了渭南营寨，军心慌乱；急退时，四面蜀兵冲杀将来，魏兵大败，十伤八九，死者无数，余众奔过渭北逃生。孔明在山上见魏延诱司马懿入谷，一霎时火光大起，心中甚喜，以为司马懿此番必死。不期天降大雨，火不能着，哨马报说司马懿父子俱逃去了。孔明叹曰：“谋事在人，成事在天。不可强也！”后人有诗叹曰：“谷口风狂烈焰飘，何期骤雨降青霄。武侯妙计如能就，安得山河属晋朝！”<br/><br/>