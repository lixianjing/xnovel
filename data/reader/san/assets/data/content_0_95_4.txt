却说孔明自令马谡等守街亭去后，犹豫不定。忽报王平使人送图本至。孔明唤入，左右呈上图本。孔明就文几上拆开视之，拍案大惊曰：“马谡无知，坑陷吾军矣！”左右问曰：“丞相何故失惊？”孔明曰：“吾观此图本，失却要路，占山为寨。倘魏兵大至，四面围合，断汲水道路，不须二日，军自乱矣。若街亭有失，吾等安归？”长史杨仪进曰：“某虽不才，愿替马幼常回。”孔明将安营之法，一一分付与杨仪。正待要行，忽报马到来，说：“街亭、列柳城，尽皆失了！”孔明跌足长叹曰：“大事去矣！此吾之过也！”急唤关兴、张苞分付曰：“汝二人各引三千精兵，投武功山小路而行。如遇魏兵，不可大击，只鼓噪呐喊，为疑兵惊之。彼当自走，亦不可追。待军退尽，便投阳平关去。”又令张冀先引军去修理剑阁，以备归路。又密传号令，教大军暗暗收拾行装，以备起程。又令马岱、姜维断后，先伏于山谷中，待诸军退尽，方始收兵。又差心腹人，分路报与天水、南安、安定三郡官吏军民，皆入汉中。又遣心腹人到冀县搬取姜维老母，送入汉中。<br/><br/>孔明分拨已定，先引五千兵退去西城县搬运粮草。忽然十余次飞马报到，说：“司马懿引大军十五万，望西城蜂拥而来！”时孔明身边别无大将，只有一班文官，所引五千兵，已分一半先运粮草去了，只剩二千五百军在城中。众官听得这个消息，尽皆失色。孔明登城望之，果然尘土冲天，魏兵分两路望西城县杀来。孔明传令，教“将旌旗尽皆隐匿；诸军各守城铺，如有妄行出入，及高言大语者，斩之！大开四门，每一门用二十军士，扮作百姓，洒扫街道。如魏兵到时，不可擅动，吾自有计。”孔明乃披鹤氅，戴纶巾，引二小童携琴一张，于城上敌楼前，凭栏而坐，焚香操琴。<br/><br/>却说司马懿前军哨到城下，见了如此模样，皆不敢进，急报与司马懿。懿笑而不信，遂止住三军，自飞马远远望之。果见孔明坐于城楼之上，笑容可掬，焚香操琴。左有一童子，手捧宝剑；右有一童子，手执麈尾。城门内外，有二十余百姓，低头洒扫，傍若无人，懿看毕大疑，便到中军，教后军作前军，前军作后军，望北山路而退。次子司马昭曰：“莫非诸葛亮无军，故作此态？父亲何故便退兵？”懿曰：“亮平生谨慎，不曾弄险。今大开城门，必有埋伏。我兵若进，中其计也。汝辈岂知？宜速退。”于是两路兵尽皆退去。孔明见魏军远去，抚掌而笑。众官无不骇然，乃问孔明曰：“司马懿乃魏之名将，今统十五万精兵到此，见了丞相，便速退去，何也？”孔明曰：“此人料吾生平谨慎，必不弄险；见如此模样，疑有伏兵，所以退去。吾非行险，盖因不得已而用之。此人必引军投山北小路去也。吾已令兴、苞二人在彼等候。”众皆惊服曰：“丞相之机，神鬼莫测。若某等之见，必弃城而走矣。”孔明曰：“吾兵止有二千五百，若弃城而走，必不能远遁。得不为司马懿所擒乎？”后人有诗赞曰：“瑶琴三尺胜雄师，诸葛西城退敌时。十五万人回马处，土人指点到今疑。”言讫，拍手大笑，曰：“吾若为司马懿，必不便退也。”遂下令，教西城百姓，随军入汉中；司马懿必将复来。于是孔明离西城望汉中而走。天水、安定、南安三郡官吏军民，陆续而来。<br/><br/>